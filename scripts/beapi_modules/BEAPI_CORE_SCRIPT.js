var K0i = true; var X = "\xA7bShowing all Available Commands:"; var Q = "EventEmitter"; var h = "custom"; var r = "\xA7c\xA7cThis command doesn't exists!"; var d = "Swing"; var Z = "[undefined EventEmitter]"; var P = "Tick"; var R = "_client"; var q = "iName"; var Y = "alwaysCancel"; var f = "minecraft:health"; var j = "_commands"; var V = " "; var N = "the end"; var t = "_registered"; var e = "nether"; var J = "name"; var S = "beapi:"; var D = "minecraft:player"; var u = "_logic"; var C = "OnChat"; var T = "PlayerTag"; var O = "overworld"; var v = "_runtimeId"; var p = "[object EventEmitter]"; var w = "minecraft:inventory"; var K = "Displays a list of available commands."; var D1 = Object.defineProperty; var H = Object.getOwnPropertySymbols; var D2 = Object.prototype.hasOwnProperty, L5 = Object.prototype.propertyIsEnumerable; var n = (z6a, u6B, r5f) => (u6B in z6a) ? D1(z6a, u6B, { enumerable: K0i, configurable: K0i, writable: K0i, value: r5f }) : z6a[u6B] = r5f, U = (i53, K4Q) => { for (var F5j in K4Q || (K4Q = {})) { D2.call(K4Q, F5j) && n(i53, F5j, K4Q[F5j]); } if (H) for (var F5j of H(K4Q)) { L5.call(K4Q, F5j) && n(i53, F5j, K4Q[F5j]); } return i53; }; var I = (R_a, O6L, f2N) => (n(R_a, typeof O6L != "symbol" ? O6L + "" : O6L, f2N), f2N); var L = class { constructor(g1v = 50) { I(this, "_listeners", new Map()); I(this, "max"); I(this, "getMaxListeners", () => this.max); this.max = g1v; } static get [Symbol.toStringTag]() { return Z; } static get [Symbol.name]() { return Q; } get [Symbol.toStringTag]() { return p; } get [Symbol.name]() { return Q; } static toString() { return Z; } toString() { return p; } addListener(k70, i2e) { var b5r; (this._listeners.size >= this.max && console.warn(`warning: possible EventEmitter memory leak detected. ${this._listeners.size} listeners registered.`), this._listeners.set(k70, [...(b5r = this._listeners.get(k70)) != null ? b5r : [], i2e])); } removeListener(u9B, R3B) { var o0X = this._listeners.get(u9B); o0X == null || o0X.splice(o0X.indexOf(R3B)); } removeListeners(s49) { this._listeners.delete(s49); } removeAllListeners() { this._listeners.clear(); } envokeEvent(n6r, ...r2s) { var r$V; (r$V = this._listeners.get(n6r)) == null || r$V.forEach(K2Y => { K2Y(...r2s); }); } listeners(l0D) { return this._listeners.get(l0D); } listenerCount(S2B) { var B9n, I5f; return (I5f = (B9n = this._listeners.get(S2B)) == null ? void 0 : B9n.length) != null ? I5f : 0; } setMaxListeners(I1T) { this.max = I1T; } on(r35, n6J) { this.addListener(r35, n6J); } off(H9O, u7A) { this.removeListener(H9O, u7A); } emit(i_O, ...V31) { this.envokeEvent(i_O, ...V31); } once(R4f, j6r) { var W0k = (...g4e) => { (j6r(...g4e), this.removeListener(R4f, W0k)); }; this.addListener(R4f, W0k); } }; var M = class { constructor() { I(this, v, 0); I(this, "_intervals", new Map()); I(this, "_timeouts", new Map()); (this._polyfillIntervals(), this._polyfillTimeouts()); } start(V1q) { (V1q.on(P, () => { this._intervals.forEach(B_I => { var d1V; isNaN((d1V = B_I.og) != null ? d1V : NaN) || (B_I.tick--, B_I.tick <= 0 && (B_I.cb(), B_I.tick = B_I.og)); }); }), V1q.on(P, () => { this._timeouts.forEach((u$Z, H8b) => { (u$Z.tick--, u$Z.tick <= 0 && (u$Z.cb(), this._timeouts.delete(H8b))); }); })); } _polyfillIntervals() { (globalThis.setInterval = (d8S, l6a) => { var o8j = this._runtimeId++; return (this._intervals.set(o8j, { cb: d8S, tick: l6a, og: l6a }), o8j); }, globalThis.clearInterval = D9a => { this._intervals.delete(D9a); }); } _polyfillTimeouts() { (globalThis.setTimeout = (T59, X8H) => { var I4L = this._runtimeId++; return (this._timeouts.set(I4L, { cb: T59, tick: X8H }), I4L); }, globalThis.clearTimeout = b$8 => { this._timeouts.delete(b$8); }); } }; import { BlockLocation as b, BlockLocation as M1, BlockLocation as e2V, Events as V8Q, Player as G7N, Player as o_J, Player as z8q, world as n6, world as m$, world as m9, world as t9, world as X2, world as H5, world as K59, world as R5S, world as X_s, world as y94, world as B, world as p66, world as K8, world as X_b, world as k_Y } from "mojang-minecraft"; var o = class { }; var D$ = class extends o { constructor(t1J) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, C); I(this, q, "beforeChat"); I(this, Y, false); this._client = t1J; } on() { this._registered || (n6.events[this.iName].subscribe(this._logic), this._registered = K0i); } off() { this._registered && (n6.events[this.iName].unsubscribe(this._logic), this._registered = false); } __logic(V8A) { if (this.alwaysCancel) { V8A.cancel = K0i; return; } this._client.emit(this.name, { sender: V8A.sender.name ? this._client.players.getByName(V8A.sender.name) : this._client.players.getByNameTag(V8A.sender.nameTag), message: V8A.message, cancel() { V8A.cancel = K0i; } }); } }; var f1 = class extends o { constructor(o7J) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "OnJoin"); I(this, q, "playerJoin"); I(this, Y, false); this._client = o7J; } on() { this._registered || (m$.events[this.iName].subscribe(this._logic), this._registered = K0i); } off() { this._registered && (m$.events[this.iName].unsubscribe(this._logic), this._registered = false); } __logic(Q9v) { var N11 = this._client.players.create(Q9v.player); (this._client.players.add(N11), this._client.emit(this.name, N11)); } }; var A5 = class extends o { constructor(B3u) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "OnLeave"); I(this, q, "playerLeave"); I(this, Y, false); this._client = B3u; } on() { this._registered || (m9.events[this.iName].subscribe(this._logic), this._registered = K0i); } off() { this._registered && (m9.events[this.iName].unsubscribe(this._logic), this._registered = false); } __logic(v8E) { var V2A = this._client.players.getByName(v8E.playerName); (this._client.emit(this.name, V2A), this._client.players.remove(V2A)); } }; var t_ = class extends o { constructor(p_B) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "BlockCreated"); I(this, q, "blockPlace"); I(this, Y, false); this._client = p_B; } on() { this._registered || (t9.events[this.iName].subscribe(this._logic), this._registered = K0i); } off() { this._registered && (t9.events[this.iName].unsubscribe(this._logic), this._registered = false); } __logic(J4L) { var V6$ = this._client.players.getByIPlayer(J4L.player); !V6$ || this._client.emit(this.name, { player: V6$, block: J4L.block, dimension: J4L.dimension, cancel() { var h0L = J4L.dimension, h5a = J4L.block.location; V6$.getGamemode() === "creative" ? h0L.runCommand(`setblock ${h5a.x} ${h5a.y} ${h5a.z} air`) : h0L.runCommand(`setblock ${h5a.x} ${h5a.y} ${h5a.z} air 0 destroy`); } }); } }; var x7 = class extends o { constructor(C0S) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "BlockDestroyed"); I(this, q, "blockBreak"); I(this, Y, false); this._client = C0S; } on() { this._registered || (X2.events[this.iName].subscribe(this._logic), this._registered = K0i); } off() { this._registered && (X2.events[this.iName].unsubscribe(this._logic), this._registered = false); } __logic(h97) { var F2t = this._client.players.getByIPlayer(h97.player); !F2t || this._client.emit(this.name, { player: F2t, block: h97.block, brokenBlock: h97.brokenBlockPermutation, dimension: h97.dimension, cancel() { var U8I = h97.dimension, D3m = h97.block.location; U8I.runCommand(`setblock ${D3m.x} ${D3m.y} ${D3m.z} ${h97.brokenBlockPermutation.type.id}`); } }); } }; var k0 = class extends o { constructor(o3V) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "ItemUse"); I(this, q, "beforeItemUse"); I(this, Y, false); this._client = o3V; } on() { this._registered || H5.events[this.iName].subscribe(this._logic); } off() { this._registered && H5.events[this.iName].unsubscribe(this._logic); } __logic(A27) { this._client.emit(this.name, { source: A27.source instanceof G7N ? this._client.players.getByIPlayer(A27.source) : this._client.entities.getByIEntity(A27.source), item: A27.item, cancel() { A27.cancel = K0i; } }); } }; var I4E = class extends o { constructor(T5I) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "ItemInteract"); I(this, q, "beforeItemUseOn"); I(this, Y, false); this._client = T5I; } on() { this._registered || K59.events[this.iName].subscribe(this._logic); } off() { this._registered && K59.events[this.iName].unsubscribe(this._logic); } __logic(I1I) { this._client.emit(this.name, { source: I1I.source instanceof o_J ? this._client.players.getByIPlayer(I1I.source) : this._client.entities.getByIEntity(I1I.source), item: I1I.item, block: I1I.source.dimension.getBlock(I1I.blockLocation), blockLocation: I1I.blockLocation, direction: I1I.direction, faceLocationX: I1I.faceLocationX, faceLocationY: I1I.faceLocationY, cancel() { I1I.cancel = K0i; } }); } }; var u$K = class extends o { constructor(n9F) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "EntityCreated"); I(this, q, "entityCreate"); I(this, Y, false); this._client = n9F; } on() { this._registered || R5S.events[this.iName].subscribe(this._logic); } off() { this._registered && R5S.events[this.iName].unsubscribe(this._logic); } __logic(k$r) { if (k$r.entity instanceof z8q) return; var Z2x = this._client.entities.create(k$r.entity); (this._client.entities.add(Z2x), this._client.emit(this.name, Z2x)); } }; var T_B = class extends o { constructor(e12) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "EntityDestroyed"); I(this, q, h); I(this, Y, false); this._client = e12; } on() { this._registered || this._client.addListener(P, this._logic); } off() { this._registered && this._client.removeListener(P, this._logic); } __logic() { for (var [, c3q] of this._client.entities.getAll()) { try { c3q.getIEntity().id; } catch (h16) { (this._client.emit(this.name, c3q), this._client.entities.remove(c3q)); } } } }; var c9H = class extends o { constructor(a0$) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "PlayerInViewVector"); I(this, q, h); I(this, Y, false); this._client = a0$; } on() { this._registered || this._client.addListener(P, this._logic); } off() { this._registered && this._client.removeListener(P, this._logic); } __logic() { for (var [, E$9] of this._client.players.getAll()) { try { var H5h = E$9.getIPlayer().getEntitiesFromViewVector()[0]; if (!H5h || H5h.id !== D) continue; var C3h = this._client.players.getByIPlayer(H5h); if (!C3h) continue; (E$9.prevPlayerInVector = C3h, this._client.emit(this.name, { player: E$9, target: C3h })); } catch (w9p) { } } } }; var N_H = class extends o { constructor(x98) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "EntityInViewVector"); I(this, q, h); I(this, Y, false); this._client = x98; } on() { this._registered || this._client.addListener(P, this._logic); } off() { this._registered && this._client.removeListener(P, this._logic); } __logic() { for (var [, Y40] of this._client.players.getAll()) { try { var W5k = Y40.getIPlayer().getEntitiesFromViewVector()[0]; if (!W5k || W5k.id === D) continue; var I2_ = this._client.entities.getByIEntity(W5k); if (!I2_) continue; (Y40.prevEntityInVector = I2_, this._client.emit(this.name, { player: Y40, target: I2_ })); } catch (I$B) { } } } }; var W$G = class extends o { constructor(U0O) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, T); I(this, q, h); I(this, Y, false); this._client = U0O; } on() { this._registered || this._client.addListener(P, this._logic); } off() { this._registered && this._client.removeListener(P, this._logic); } __logic() { for (var [, r3H] of this._client.players.getAll()) { try { for (var X4R of r3H.getTags()) { !X4R.startsWith(S) || (r3H.removeTag(X4R), this._client.emit(this.name, { player: r3H, tag: X4R.replace(S, "") })); } } catch (j1c) { } } } }; var j_P = class extends o { constructor(K5J) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "EntityTag"); I(this, q, h); I(this, Y, false); this._client = K5J; } on() { this._registered || this._client.addListener(P, this._logic); } off() { this._registered && this._client.removeListener(P, this._logic); } __logic() { for (var [, J$1] of this._client.entities.getAll()) { try { for (var J0p of J$1.getTags()) { !J0p.startsWith(S) || (J$1.removeTag(J0p), this._client.emit(this.name, { entity: J$1, tag: J0p.replace(S, "") })); } } catch (b_y) { } } } }; var N_V = class extends o { constructor(x6S) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "EnteredWater"); I(this, q, h); I(this, Y, false); this._client = x6S; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(H1u) { H1u.tag === "in_water" && this._client.emit(this.name, H1u.player); } }; var J2z = class extends o { constructor(L8Q) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "ExitedWater"); I(this, q, h); I(this, Y, false); this._client = L8Q; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(h84) { h84.tag === "exit_water" && this._client.emit(this.name, h84.player); } }; var W$C = class extends o { constructor(o1G) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "Jump"); I(this, q, h); I(this, Y, false); this._client = o1G; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(N_I) { N_I.tag === "jump" && this._client.emit(this.name, N_I.player); } }; var M9g = class extends o { constructor(b_P) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "Landed"); I(this, q, h); I(this, Y, false); this._client = b_P; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(i$G) { i$G.tag === "land" && this._client.emit(this.name, i$G.player); } }; var u7T = class extends o { constructor(A87) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, d); I(this, q, h); I(this, Y, false); this._client = A87; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(R8n) { R8n.tag === "swing" && this._client.emit(this.name, R8n.player); } }; var X31 = class extends o { constructor(T5z) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "StartedBurning"); I(this, q, h); I(this, Y, false); this._client = T5z; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(x$S) { x$S.tag === "on_fire" && this._client.emit(this.name, x$S.player); } }; var O8N = class extends o { constructor(Q3w) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "StoppedBurning"); I(this, q, h); I(this, Y, false); this._client = Q3w; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(q3h) { q3h.tag === "off_fire" && this._client.emit(this.name, q3h.player); } }; var u0i = class extends o { constructor(b2z) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "StartedMoving"); I(this, q, h); I(this, Y, false); this._client = b2z; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(k4n) { k4n.tag === "on_move" && this._client.emit(this.name, k4n.player); } }; var A2F = class extends o { constructor(Z5b) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "StoppedMoving"); I(this, q, h); I(this, Y, false); this._client = Z5b; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(s2n) { s2n.tag === "off_move" && this._client.emit(this.name, s2n.player); } }; var k74 = class extends o { constructor(D6u) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "StartedRiding"); I(this, q, h); I(this, Y, false); this._client = D6u; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(c3X) { c3X.tag === "on_ride" && this._client.emit(this.name, c3X.player); } }; var a4H = class extends o { constructor(h3W) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "StoppedRiding"); I(this, q, h); I(this, Y, false); this._client = h3W; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(N7K) { N7K.tag === "off_ride" && this._client.emit(this.name, N7K.player); } }; var W1C = class extends o { constructor(S15) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "StartedSleeping"); I(this, q, h); I(this, Y, false); this._client = S15; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(H29) { H29.tag === "sleep" && this._client.emit(this.name, H29.player); } }; var f99 = class extends o { constructor(a3N) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "StoppedSleeping"); I(this, q, h); I(this, Y, false); this._client = a3N; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(D$s) { D$s.tag === "wake" && this._client.emit(this.name, D$s.player); } }; var j7x = class extends o { constructor(G1M) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "StartedSneaking"); I(this, q, h); I(this, Y, false); this._client = G1M; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(r_p) { r_p.tag === "sneak" && this._client.emit(this.name, r_p.player); } }; var c_z = class extends o { constructor(A2P) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "StoppedSneaking"); I(this, q, h); I(this, Y, false); this._client = A2P; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(g8M) { g8M.tag === "unsleep" && this._client.emit(this.name, g8M.player); } }; var P89 = class extends o { constructor(G6B) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "StartedSprinting"); I(this, q, h); I(this, Y, false); this._client = G6B; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(V$Z) { V$Z.tag === "on_sprint" && this._client.emit(this.name, V$Z.player); } }; var D3b = class extends o { constructor(I$h) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "StoppedSprinting"); I(this, q, h); I(this, Y, false); this._client = I$h; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(K85) { K85.tag === "off_sprint" && this._client.emit(this.name, K85.player); } }; var k5j = class extends o { constructor(T0F) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "StartedSwimming"); I(this, q, h); I(this, Y, false); this._client = T0F; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(D1z) { D1z.tag === "on_swim" && this._client.emit(this.name, D1z.player); } }; var w4k = class extends o { constructor(C6S) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "StoppedSwimming"); I(this, q, h); I(this, Y, false); this._client = C6S; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(C2B) { C2B.tag === "off_swim" && this._client.emit(this.name, C2B.player); } }; function W(r4_, i__, f1y) { var f$o = Math.max(r4_, i__), p8c = Math.min(r4_, i__); return f1y >= p8c && f1y <= f$o; } var x3K = class extends o { constructor(D58) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "EntityAttacked"); I(this, q, h); I(this, Y, false); this._client = D58; } on() { this._registered || this._client.addListener(d, this._logic); } off() { this._registered && this._client.removeListener(d, this._logic); } __logic(t7o) { var E8q = t7o.prevEntityInVector; if ((t7o.prevEntityInVector = void 0, !E8q)) return; var g8o = E8q.getLocation(), R8h = t7o.getLocation(); if (!!(W(g8o.x + 5, g8o.x - 5, R8h.x) && W(g8o.y + 5, g8o.y - 5, R8h.y) && W(g8o.z + 5, g8o.z - 5, R8h.z))) return this._client.emit(this.name, { player: t7o, target: E8q }); } }; var t76 = class extends o { constructor(I7z) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "PlayerAttacked"); I(this, q, h); I(this, Y, false); this._client = I7z; } on() { this._registered || this._client.addListener(d, this._logic); } off() { this._registered && this._client.removeListener(d, this._logic); } __logic(b6O) { var H54 = b6O.prevPlayerInVector; if ((b6O.prevPlayerInVector = void 0, !H54)) return; var c92 = H54.getLocation(), b6H = b6O.getLocation(); if (!!(W(c92.x + 5, c92.x - 5, b6H.x) && W(c92.y + 5, c92.y - 5, b6H.y) && W(c92.z + 5, c92.z - 5, b6H.z))) return this._client.emit(this.name, { player: b6O, target: H54 }); } }; var u5j = class extends o { constructor(C92) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "Explosion"); I(this, q, "beforeExplosion"); I(this, Y, false); this._client = C92; } on() { this._registered || (X_s.events[this.iName].subscribe(this._logic), this._registered = K0i); } off() { this._registered && (X_s.events[this.iName].unsubscribe(this._logic), this._registered = false); } __logic(Z7D) { if (this.alwaysCancel) { Z7D.cancel = K0i; return; } var c9p = this._client.entities.getByIEntity(Z7D.source); this._client.emit(this.name, { source: c9p, dimension: Z7D.dimension, impactedBlocks: Z7D.impactedBlocks, cancel() { Z7D.cancel = K0i; } }); } }; var O57 = class extends o { constructor(x4g) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "Death"); I(this, q, h); I(this, Y, false); this._client = x4g; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(Q_E) { Q_E.tag === "died" && this._client.emit(this.name, Q_E.player); } }; var o5S = class extends o { constructor(X2F) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, "Respawn"); I(this, q, h); I(this, Y, false); this._client = X2F; } on() { this._registered || this._client.addListener(T, this._logic); } off() { this._registered && this._client.removeListener(T, this._logic); } __logic(r2S) { r2S.tag === "respawn" && this._client.emit(this.name, r2S.player); } }; var f31 = class extends o { constructor(q6g) { super(); I(this, u, this.__logic.bind(this)); I(this, R); I(this, t, false); I(this, J, P); I(this, q, "tick"); I(this, Y, false); this._client = q6g; } on() { this._registered || (y94.events[this.iName].subscribe(this._logic), this._registered = K0i); } off() { this._registered && (y94.events[this.iName].unsubscribe(this._logic), this._registered = false); } __logic(Y$7) { this._client.emit(this.name, { currentTick: Y$7.currentTick, deltaTime: Y$7.deltaTime }); } }; var a = [D$, f1, A5, t_, x7, k0, I4E, u$K, T_B, c9H, N_H, W$G, j_P, N_V, J2z, W$C, M9g, u7T, X31, O8N, u0i, A2F, k74, a4H, W1C, f99, j7x, c_z, P89, D3b, k5j, w4k, x3K, t76, u5j, O57, o5S, f31]; var m = class { constructor(k3Q, i0C) { I(this, R); I(this, "_IPlayer"); I(this, "_name"); I(this, "prevPlayerInVector"); I(this, "prevEntityInVector"); (this._client = k3Q, this._IPlayer = i0C, this._name = i0C.name); } destroy(c$t = "Instantiated player object destroyed!") { this._client.executeCommand(`kick "${this.getNameTag()}" ${c$t}`); } getIPlayer() { return this._IPlayer; } getName() { return this._name; } getNameTag() { return this._IPlayer.nameTag; } setNameTag(j7A) { this._IPlayer.nameTag = j7A; } getTags() { return this._IPlayer.getTags(); } hasTag(B14) { return this._IPlayer.hasTag(B14); } addTag(B2y) { return this._IPlayer.addTag(B2y); } removeTag(H2n) { return this._IPlayer.removeTag(H2n); } sendMessage(O1g) { this.executeCommand(`tellraw @s {"rawtext":[{"text":"${O1g}"}]}`); } executeCommand(K2D, j8D = false) { try { var I6s = this._IPlayer.runCommand(K2D); return { statusMessage: I6s.statusMessage, data: I6s, err: false }; } catch (d7F) { return (j8D && console.warn(`[BeAPI] [Player#executeCommand]: ${String(d7F)}`), { statusMessage: String(d7F), data: null, err: K0i }); } } getScore(L8d) { var V3q; var S3S = this.executeCommand(`scoreboard players test @s "${L8d}" * *`); return S3S.err ? 0 : parseInt(String((V3q = S3S.statusMessage) == null ? void 0 : V3q.split(V)[1]), 10); } getGamemode() { var s5D = this._client.executeCommand(`testfor @a[name="${this.getNameTag()}",m=c]`, this.getDimensionName()), o7p = this._client.executeCommand(`testfor @a[name="${this.getNameTag()}",m=a]`, this.getDimensionName()), W4A = this._client.executeCommand(`testfor @a[name="${this.getNameTag()}",m=s]`, this.getDimensionName()); return s5D.err ? o7p.err ? W4A.err ? "unknown" : "survival" : "adventure" : "creative"; } getLocation() { var S0T = this._IPlayer.location; return { x: Math.floor(S0T.x), y: Math.floor(S0T.y - 1), z: Math.floor(S0T.z) }; } getDimension() { return this._IPlayer.dimension; } getDimensionName() { var Q4Y = B.getDimension(O).getEntitiesAtBlockLocation(new b(this.getLocation().x, this.getLocation().y + 1, this.getLocation().z)).find(F5Q => F5Q === this._IPlayer), d8_ = B.getDimension(e).getEntitiesAtBlockLocation(new b(this.getLocation().x, this.getLocation().y + 1, this.getLocation().z)).find(z$e => z$e === this._IPlayer), a1f = B.getDimension(N).getEntitiesAtBlockLocation(new b(this.getLocation().x, this.getLocation().y + 1, this.getLocation().z)).find(u2q => u2q === this._IPlayer); return Q4Y ? O : d8_ ? e : a1f ? N : O; } getInventory() { return this._IPlayer.getComponent(w); } getHealth() { return this._IPlayer.getComponent(f); } getSelectedSlot() { return this._IPlayer.selectedSlot; } kick(R$Z = "You were kicked from the game!") { this.destroy(R$Z); } getVelocity() { return this._IPlayer.velocity; } setVelocity(M_8) { this._IPlayer.setVelocity(M_8); } teleport(O6r, r7o, p6r, e$b) { this._IPlayer.teleport(O6r, r7o, p6r, e$b); } teleportFacing(Y3v, m0Z, G5r) { this._IPlayer.teleportFacing(Y3v, m0Z, G5r); } triggerEvent(B59) { this._IPlayer.triggerEvent(B59); } getRotation() { return this._IPlayer.bodyRotation; } getHeadLocation() { return this._IPlayer.headLocation; } }; var g = class { constructor(Y9M) { I(this, "_players", new Map()); I(this, R); this._client = Y9M; } add(a5X) { this._players.set(a5X.getName(), a5X); } create(i2s) { return new m(this._client, i2s); } remove(T4i) { this._players.delete(T4i.getName()); } removeByName(D7S) { this._players.delete(D7S); } getAll() { return this._players; } getByName(C5Z) { return this._players.get(C5Z); } getByNameTag(L2B) { return Array.from(this._players.values()).find(S_O => S_O.getNameTag() === L2B); } getByIPlayer(N02) { return Array.from(this._players.values()).find(u01 => u01.getIPlayer() === N02); } }; var y1 = class { constructor(Q9Z, u9t) { I(this, R); I(this, "_IEntity"); I(this, v); (this._client = Q9Z, this._IEntity = u9t, this._runtimeId = this._client.entities.newRuntimeId()); } destroy() { try { this._IEntity.kill(); } catch (S$J) { } } getIEntity() { return this._IEntity; } getRuntimeId() { return this._runtimeId; } getId() { return this._IEntity.id; } getNameTag() { return this._IEntity.nameTag; } setNameTag(B$p) { this._IEntity.nameTag = B$p; } getTags() { return this._IEntity.getTags(); } hasTag(b7O) { return this._IEntity.hasTag(b7O); } addTag(P4s) { return this._IEntity.addTag(P4s); } removeTag(X10) { return this._IEntity.removeTag(X10); } executeCommand(g5E, C7X = false) { try { var q_3 = this._IEntity.runCommand(g5E); return { statusMessage: q_3.statusMessage, data: q_3, err: false }; } catch (h4G) { return (C7X && console.warn(`[BeAPI] [Entity#executeCommand]: ${String(h4G)}`), { statusMessage: String(h4G), data: null, err: K0i }); } } getScore(F_G) { var V5U; var d7i = this.executeCommand(`scoreboard players test @s "${F_G}" * *`); return d7i.err ? 0 : parseInt(String((V5U = d7i.statusMessage) == null ? void 0 : V5U.split(V)[1]), 10); } getLocation() { var G2e = this._IEntity.location; return { x: Math.floor(G2e.x), y: Math.floor(G2e.y - 1), z: Math.floor(G2e.z) }; } getDimension() { return this._IEntity.dimension; } getDimensionName() { var T73 = K8.getDimension(O).getEntitiesAtBlockLocation(new M1(this.getLocation().x, this.getLocation().y + 1, this.getLocation().z)).find(c6w => c6w === this._IEntity), v7M = K8.getDimension(e).getEntitiesAtBlockLocation(new M1(this.getLocation().x, this.getLocation().y + 1, this.getLocation().z)).find(V3N => V3N === this._IEntity), c04 = K8.getDimension(N).getEntitiesAtBlockLocation(new M1(this.getLocation().x, this.getLocation().y + 1, this.getLocation().z)).find(S5J => S5J === this._IEntity); return T73 ? O : v7M ? e : c04 ? N : O; } getInventory() { if (!!this._IEntity.hasComponent(w)) return this._IEntity.getComponent(w); } getHealth() { return this._IEntity.getComponent(f); } getVelocity() { return this._IEntity.velocity; } setVelocity(h21) { this._IEntity.setVelocity(h21); } teleport(C2y, w_X, K0G, k_t) { this._IEntity.teleport(C2y, w_X, K0G, k_t); } teleportFacing(A8s, R76, d1D) { this._IEntity.teleportFacing(A8s, R76, d1D); } triggerEvent(C5G) { this._IEntity.triggerEvent(C5G); } getRotation() { return this._IEntity.bodyRotation; } getHeadLocation() { return this._IEntity.headLocation; } }; var h2 = class { constructor(b6M) { I(this, R); I(this, "_entities", new Map()); I(this, v, 0); this._client = b6M; } newRuntimeId() { return this._runtimeId++; } add(s$C) { this._entities.set(s$C.getRuntimeId(), s$C); } create(k0y) { return new y1(this._client, k0y); } remove(w$4) { this._entities.delete(w$4.getRuntimeId()); } removeByRuntimeId(j4v) { this._entities.delete(j4v); } getAll() { return this._entities; } getByNameTag(I0L) { return Array.from(this._entities.values()).find(y4T => y4T.getNameTag() === I0L); } getByRuntimeId(X$y) { return this._entities.get(X$y); } getByIEntity(K4Y) { return Array.from(this._entities.values()).find(U4M => U4M.getIEntity() === K4Y); } getLastest() { return this._entities.get(this._runtimeId - 1); } }; var G = "-", l6 = class { constructor(I1s) { I(this, R); I(this, "_handlers", new Map()); I(this, j, new Map()); I(this, "__onChatLogic", this._onChatLogic.bind(this)); (this._client = I1s, this.register({ name: "help", description: K, aliases: ["h"] }, c3K => { (c3K.sender.sendMessage(X), this.getAll().forEach(F5D => { F5D.options.hidden || c3K.sender.sendMessage(`  \xA77${G}${F5D.options.name}\xA7r \xA7o\xA78${F5D.options.description}`); })); }), this.register({ name: "about", description: "Shows info about the server.", aliases: ["ab"] }, u7X => { u7X.sender.sendMessage(`\xA77This server is running \xA79BeAPI v${this._client.currentVersion}\xA77 for \xA7aMinecraft: Bedrock Edition v${this._client.currentMCBE}\xA77.`); }), this._client.on(C, this.__onChatLogic)); } _onChatLogic(P03) { var a19; if (!P03.sender || !P03.message.startsWith("-")) return; var V8X = X6(G, P03.message), M$p = (a19 = this._commands.get(V8X.command)) != null ? a19 : Array.from(this._commands.values()).find(C6V => { var I6p; return (I6p = C6V.options.aliases) == null ? void 0 : I6p.includes(V8X.command); }); if (!M$p) return (P03.sender.sendMessage(r), P03.cancel()); (M$p.cb({ sender: P03.sender, args: V8X.args }), P03.cancel()); } disable() { this._client.removeListener(C, this.__onChatLogic); } createHandler(h_w) { if (this._handlers.has(h_w) || h_w === G) throw new Error(`CommandHandler with prefix "${h_w}" already exists. Cannot exceed 1!`); var F52 = new I_(this._client, this, h_w); return (this._handlers.set(h_w, F52), F52); } removeHandler(h_4) { this._handlers.delete(h_4); } getHandler(Y$a) { return this._handlers.get(Y$a); } getHandlers() { return this._handlers; } setHandler(J9L, c08) { if (this._handlers.has(J9L) || J9L === G) throw new Error(`CommandHandler with prefix "${J9L}" already exists. Cannot exceed 1!`); this._handlers.set(J9L, c08); } register(y2I, k6k) { this._commands.set(y2I.name, { options: y2I, cb: k6k }); } unregister(o4u) { this._commands.delete(o4u); } get(U8c) { var N7b; return (N7b = this._commands.get(U8c)) != null ? N7b : Array.from(this.getAll().values()).find(z_E => { var s_T; return (s_T = z_E.options.aliases) == null ? void 0 : s_T.includes(U8c); }); } getAll() { return this._commands; } }, I_ = class { constructor(H3E, F_n, d3y) { I(this, R); I(this, "_cm"); I(this, j, new Map()); I(this, "prefix"); (this._client = H3E, this._cm = F_n, this.prefix = d3y, this.register({ name: "help", description: K, aliases: ["h"] }, b2E => { (b2E.sender.sendMessage(X), this.getAll().forEach(f0s => { f0s.options.hidden || b2E.sender.sendMessage(`  \xA77${this.prefix}${f0s.options.name}\xA7r \xA7o\xA78${f0s.options.description}`); })); }), this._client.on(C, O5k => { var u6e; if (!O5k.sender || !O5k.message.startsWith(this.getPrefix())) return; var u1Q = X6(this.prefix, O5k.message), K5_ = (u6e = this._commands.get(u1Q.command)) != null ? u6e : Array.from(this._commands.values()).find(B_w => { var r49; return (r49 = B_w.options.aliases) == null ? void 0 : r49.includes(u1Q.command); }); if (!K5_) return (O5k.sender.sendMessage(r), O5k.cancel()); (K5_.cb({ sender: O5k.sender, args: u1Q.args }), O5k.cancel()); })); } changePrefix(o62) { if (this._cm.getAll().has(o62) || o62 === G) throw new Error(`Cannot change prefix to "${o62}". Another command handler already reserves that prefix!`); (this._cm.removeHandler(this.prefix), this.prefix = o62, this._cm.setHandler(o62, this)); } getPrefix() { return String(this.prefix); } register(u0s, p$4) { this._commands.set(u0s.name, { options: u0s, cb: p$4 }); } unregister(h1H) { this._commands.delete(h1H); } get(M__) { var O4x; return (O4x = this._commands.get(M__)) != null ? O4x : Array.from(this.getAll().values()).find(m4P => { var V_G; return (V_G = m4P.options.aliases) == null ? void 0 : V_G.includes(M__); }); } getAll() { return this._commands; } }; function X6(R25, j_V) { var m7F = j_V.replace(R25, "").split(V).filter(m83 => m83.length), H_V = m7F.shift(); return { command: H_V != null ? H_V : "", args: m7F }; } var J4 = class { constructor(t3L) { I(this, R); this._client = t3L; } sendMessage(k7x) { this._client.executeCommand(`tellraw @a {"rawtext":[{"text":"${k7x}"}]}`); } getEntitiesFromLocation(C8k, A9T) { return Array.from(this._client.entities.getAll().values()).filter(R1h => R1h.getLocation() === A9T && R1h.getDimensionName() === C8k); } getPlayersFromLocation(a_C, h3B) { return Array.from(this._client.players.getAll().values()).filter(L9X => L9X.getLocation() === h3B && L9X.getDimensionName() === a_C); } spawnEntity(j7d, r3R, b8u = "") { return (this._client.executeCommand(`summon ${j7d} "${b8u}" ${r3R.x} ${r3R.y} ${r3R.z}`), this._client.entities.getLastest()); } getBlock(q6t, S96) { return X_b.getDimension(q6t).getBlock(new e2V(S96.x, S96.y, S96.z)); } }; var s67 = "2.2.2"; var p2 = s67, F8 = "1.18.10", m_ = 485; function R1Q(y2u) { return console.warn(`[BeAPI]: Event "${y2u}" appears be deprecated, skipping registration. Please report this issue here: https://github.com/MCBE-Utilities/BeAPI/issues`); } function H$t() { return ("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx").replace(/[xy]/g, u93 => { var j0s = Math.random() * 16 | 0; return (u93 === "x" ? j0s : j0s & 3 | 8).toString(16); }); } function s_G(c77) { return (/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi).test(c77); } function i_g(N0p, i1T) { var r_T = []; for (var c_L = Math.min(N0p[0], i1T[0]); c_L <= Math.max(N0p[0], i1T[0]); c_L++) { for (var K6S = Math.min(N0p[1], i1T[1]); K6S <= Math.max(N0p[1], i1T[1]); K6S++) { for (var o2g = Math.min(N0p[2], i1T[2]); o2g <= Math.max(N0p[2], i1T[2]); o2g++) { r_T.push([c_L, K6S, o2g]); } } } return r_T; } function i(w8x, h9V = "overworld", t7e = false) { try { var J2L = k_Y.getDimension(h9V).runCommand(w8x); return { statusMessage: J2L.statusMessage, data: J2L, err: false }; } catch (g_M) { return (t7e && console.warn(`[BeAPI] [executeCommand]: ${String(g_M)}`), { statusMessage: String(g_M), data: null, err: K0i }); } } function t2L(z_t) { return z_t.split(V).map(y_B => String.fromCharCode(parseInt(y_B, 2))).join(""); } function j61(d14) { return d14.split("").map(B7y => B7y.charCodeAt(0).toString(2)).join(V); } function C2(Z8m) { return Object.keys(Z8m).map(c$G => [c$G, Z8m[c$G]]); } var k$ = class { constructor(p8K, T_K = 0) { I(this, "epoch"); I(this, "unique"); I(this, "prev", Date.now()); I(this, "inc", 0); (this.epoch = T_K, this.unique = p8K); } generate() { var Y36 = Date.now(); return (Y36 === this.prev ? this.inc += 1 : this.inc = 0, this.prev = Y36, `${Math.abs(Y36 - this.epoch)}_${this.inc}_${this.unique}`); } }; var L9 = class extends L { constructor() { super(); I(this, "_events", new Map()); I(this, "players", new g(this)); I(this, "entities", new h2(this)); I(this, "commands", new l6(this)); I(this, "world", new J4(this)); I(this, "currentVersion", p2); I(this, "currentMCBE", F8); I(this, "currentProtocol", m_); for (var p4Y of a) { this._events.has(p4Y.name) || this.loadEvent(p4Y); } } loadEvent(E8S) { var B29 = new E8S(this); if (!this.verifyIEvent(B29.iName)) return R1Q(B29.iName); (this._events.set(B29.name, B29), B29.on()); } removeEvent(C3x) { var m4j = this._events.get(C3x); this._events.delete(C3x) && (m4j == null || m4j.off()); } getEvent(Z92) { return this._events.get(Z92); } verifyIEvent(u$g) { return u$g === h ? K0i : Object.keys(V8Q.prototype).includes(u$g); } getAllIEvents() { return Object.keys(V8Q.prototype); } executeCommand(k$y, j_p = "overworld", N_T = false) { try { var K_y = p66.getDimension(j_p).runCommand(k$y); return { statusMessage: K_y.statusMessage, data: K_y, err: false }; } catch (A5t) { return (N_T && console.info(`[executeCommand]: ${String(A5t)}`), { statusMessage: String(A5t), data: null, err: K0i }); } } }; var E; (z93 => { function C61(o5m) { var g9r; var { statusMessage: h6q, err: e3w } = i("scoreboard players list"); return e3w ? [] : ((g9r = h6q.match(/<{\?name=\w+&id=\w+&bin=[01 ]+}>/gi)) != null ? g9r : []).map(A_u => z93.fromRaw(A_u)).filter(d1d => d1d.name === o5m); } z93.retrieveSerializedData = C61; function A0S() { var S1Q, H4P; var { err: D$p, statusMessage: W3e } = i("scoreboard objectives list"); return D$p ? [] : (H4P = (S1Q = W3e.match(/- (\w*):/gi)) == null ? void 0 : S1Q.map(X$e => X$e.replace(/- |:/g, ""))) != null ? H4P : []; } z93.retrieveObjectiveNames = A0S; function p$8(x1J) { return z93.retrieveObjectiveNames().includes(x1J); } z93.tableExists = p$8; function Y8a(H24, U7e, L4g) { return `<{?name=${H24}&id=${U7e}&bin=${j61(L4g)}}>`; } z93.toRaw = Y8a; function a4S(t7B) { if (!(/<{\?name=\w+&id=\w+&bin=[01 ]+}>/gi).test(t7B)) throw new Error(`Not a valid collection! ${t7B}`); var y$9 = new Map(t7B.replace(/<{\?|}>/g, "").split("&").map(B6R => B6R.split("="))), X4C = y$9.get("id"), c6j = y$9.get(J), t0K = y$9.get("bin").trim(); return { id: X4C, name: c6j, bin: t0K }; } z93.fromRaw = a4S; function K7c(S8n) { return !(/\W/).test(S8n); } z93.validName = K7c; })(E || (E = {})); var c = class { constructor(G27, R_y, j2x) { I(this, "__model__"); I(this, "__id__"); I(this, "__knownData__"); (this.__id__ = R_y, this.__model__ = G27, this.__knownData__ = j2x, Object.assign(this, j2x)); } retrieveKnownInternalData() { return this.__knownData__; } asObject() { return Object.keys(this.__model__.schema.definition).map(D_C => ({ [D_C]: this[D_C] })).reduce((C8s, p48) => U(U({}, C8s), p48), {}); } getId() { return this.__id__; } delete() { this.__model__.delete(this.__id__); } save() { return (this.__model__.sync(this.__id__), this.__knownData__ = this.asObject(), this); } }; var a2 = new k$(1, 16439399), N2 = class { constructor(V2J, H5Y, Y8u = "BeAPI__DATABASE") { I(this, "schema"); I(this, "scoreboardName"); I(this, J); I(this, "documents", new Map()); if (!E.validName(Y8u)) throw Error("Invalid Scoreboard Name Format: Letters, Numbers, Underscores!"); if (Y8u.length > 16) throw Error("Scoreboard Names May Not Exceed 16 Characters!"); if (!E.validName(V2J)) throw Error("Invalid Model Name Format: Letters, Numbers, Underscores!"); if ((this.schema = H5Y, this.name = V2J, this.scoreboardName = Y8u, !E.tableExists(Y8u))) { var n4l = i(`scoreboard objectives add "${Y8u}" dummy`); if (n4l.err) throw new Error(n4l.statusMessage); } for (var G$y of E.retrieveSerializedData(this.name)) { var I_7 = this.schema.deserialize(t2L(G$y.bin)); this.documents.set(G$y.id, new c(this, G$y.id, I_7)); } } asArray() { return Array.from(this.documents.values()); } find(t6z) { var G7Q = Object.keys(t6z).filter(k9o => k9o != null); return this.asArray().find(S6R => G7Q.every(J_m => S6R.asObject()[J_m] === t6z[J_m])); } findAll(c0l) { var m8I = Object.keys(c0l).filter(S_M => S_M != null); return this.asArray().filter(S26 => m8I.every(J33 => S26.asObject()[J33] === c0l[J33])); } write(w5b) { var s5u = a2.generate(), n$s = new c(this, s5u, w5b); return (this.documents.set(s5u, n$s), n$s.save()); } writeBulk(I$n) { var n1X = []; for (var B9o of I$n) { var V7D = a2.generate(), w0d = new c(this, V7D, B9o); (this.documents.set(V7D, w0d), n1X.push(w0d.save())); } return n1X; } deleteAll() { for (var K3I of this.documents.keys()) { this.delete(K3I); } } delete(g7W) { var l$g = this.documents.get(g7W); !l$g || (i(`scoreboard players reset "${E.toRaw(this.name, g7W, this.schema.serialize(l$g.retrieveKnownInternalData()))}" "${this.scoreboardName}"`), this.documents.delete(g7W)); } sync(M9y) { var A4r = this.documents.get(M9y); if (!A4r) return; i(`scoreboard players reset "${E.toRaw(this.name, M9y, this.schema.serialize(A4r.retrieveKnownInternalData()))}" "${this.scoreboardName}"`); var e86 = i(`scoreboard players add "${E.toRaw(this.name, M9y, this.schema.serialize(A4r.asObject()))}" "${this.scoreboardName}" 0`); if (e86.err) throw new Error(e86.statusMessage); } }; function g7n(T1e, p$W, z5p = "BeAPI__DATABASE") { return new N2(T1e, p$W, z5p); } var Y5 = class { constructor(P6t) { I(this, "definition"); this.definition = P6t; } serialize(K29) { return JSON.stringify(C2(K29).map(([f57, v2U]) => { var F6t = this.definition[f57]; if (!F6t) throw Error(`Invalid Object Property "${f57}"`); return { [f57]: F6t.serialize(v2U) }; }).reduce((O0P, m_U) => U(U({}, O0P), m_U), {})); } deserialize(b1$) { return C2(JSON.parse(b1$)).map(([s$8, F$k]) => { var u_R = this.definition[s$8]; if (!u_R) throw Error(`Invalid Object Property "${s$8}"`); return { [s$8]: u_R.deserialize(F$k) }; }).reduce((C8C, m3Q) => U(U({}, C8C), m3Q), {}); } }; function m_8(j7z) { return new Y5(j7z); } var A = String, k = Number, A9 = Boolean, k4 = Array, t$ = Map, u8; (P1l => { P1l.String = class T6D extends A { static serialize(u8B) { return A(u8B); } static deserialize(l6E) { return A(l6E); } }; P1l.Number = class u90 extends k { static serialize(o_r) { return k(o_r); } static deserialize(B0f) { return k(B0f); } }; P1l.Boolean = class y8C extends A9 { static serialize(i45) { return k(i45 ? 1 : 0); } static deserialize(p10) { return A9(p10 === 1); } }; var A9M = class U_I extends k4 { static serialize(L4A) { return A(JSON.stringify(L4A)); } static deserialize(I4m) { return k4(...JSON.parse(I4m)); } }; P1l.Array = A9M; P1l.Map = class t_G extends t$ { static serialize(q9x) { return JSON.stringify(A9M.from(q9x.entries())); } static deserialize(B0E) { return new t$(JSON.parse(B0E)); } }; })(u8 || (u8 = {})); var F = console.warn; globalThis.console = { log(v0x, ...H_h) { F(`\xA79[BeAPI]\xA7r \xA7b[LOG]:\xA7r ${v0x} ${H_h.join(V)}`); }, error(Q$a, ...W$x) { F(`\xA79[BeAPI]\xA7r  \xA7c[ERROR]:\xA7r ${Q$a} ${W$x.join(V)}`); }, warn(I8S, ...W$O) { F(`\xA79[BeAPI]\xA7r  \xA7g[WARN]:\xA7r ${I8S} ${W$O.join(V)}`); }, info(y0q, ...c6e) { F(`\xA79[BeAPI]\xA7r  \xA7a[INFO]:\xA7r ${y0q} ${c6e.join(V)}`); }, debug(T$u, ...L7h) { F(`\xA79[BeAPI]\xA7r  \xA7d[DEBUG]:\xA7r ${T$u} ${L7h.join(V)}`); } }; var V7q = new M(), v6 = new L9(); V7q.start(v6); export { o as AbstractEvent, L9 as Client, I_ as CommandHandler, l6 as CommandManager, E as DatabaseUtil, c as Document, y1 as Entity, h2 as EntityManager, L as EventEmitter, N2 as Modal, m as Player, g as PlayerManager, k$ as SafeIds, Y5 as Schema, u8 as SchemaTypes, M as Timers, J4 as WorldManager, W as between, t2L as binToString, v6 as client, R1Q as deprecated, C2 as entries, a as events, H$t as genUuid, i_g as getAll, F8 as mcbe, g7n as modal, X6 as parse, m_ as protocol, i as runCommand, m_8 as schema, j61 as stringToBin, s_G as verifyUuid, p2 as version };